import{r as R,R as f,j as e,c as B}from"./client-B9F7oGqJ.js";const G=[{urls:"stun:10.100.0.35:3478"}],H=n=>{const{signalingUrl:s,answerPeerId:i,useIceServers:y,mediaStream:h,onSignalingState:r,onIceState:o,onDataChannel:l}=n,t=R.useRef(null),c=R.useRef(null),C=R.useRef(null),v=R.useRef([]),d=R.useRef(null),p=R.useRef([]),[S,I]=R.useState(null),[j,k]=R.useState("idle"),x=R.useCallback(()=>{var u,g;try{(u=c.current)==null||u.close()}catch{}c.current=null;try{(g=t.current)==null||g.close()}catch{}t.current=null,k("idle")},[]),T=R.useCallback(async u=>{const g=c.current;if(g)if(u.kind==="offer"&&u.sdp)for(await g.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:u.sdp}));p.current.length>0;){const w=p.current.shift();w&&await g.addIceCandidate(new RTCIceCandidate(w))}else u.kind==="ice"&&u.candidate&&(g.remoteDescription?await g.addIceCandidate(new RTCIceCandidate(u.candidate)):p.current.push(u.candidate))},[]),D=R.useCallback(u=>{const g=C.current;if(!(!g||u.readyState!==WebSocket.OPEN))for(;v.current.length>0;){const w=v.current.shift();if(!w)continue;const b={type:"signal",from:{role:"answer",peerId:i},to:{role:"offer",peerId:g},data:{kind:"ice",candidate:w}};u.send(JSON.stringify(b))}},[i]),M=R.useCallback(async()=>{if(x(),!i)throw k("error"),new Error("answerPeerId is required");if(!h)throw k("error"),new Error("mediaStream is required (capture first)");const u=new WebSocket(s);t.current=u,u.onopen=()=>{k("waiting_offer"),r==null||r("Connected");const w={type:"register",payload:{role:"answer",peerId:i}};u.send(JSON.stringify(w))},u.onerror=()=>{k("error"),r==null||r("Error")},u.onclose=()=>{r==null||r("Disconnected")};const g=new RTCPeerConnection(y?{iceServers:G}:{});c.current=g,h.getTracks().forEach(w=>g.addTrack(w,h)),g.onicecandidate=w=>{if(w.candidate&&u.readyState===WebSocket.OPEN){const b=C.current,N=typeof w.candidate.toJSON=="function"?w.candidate.toJSON():w.candidate;if(b){const E={type:"signal",from:{role:"answer",peerId:i},to:{role:"offer",peerId:b},data:{kind:"ice",candidate:N}};u.send(JSON.stringify(E))}else v.current.push(N)}},g.oniceconnectionstatechange=()=>{o==null||o(g.iceConnectionState)},g.ondatachannel=w=>{const b=w.channel;d.current=b,I(b),l&&l(b),b.onclose=()=>I(null)},u.onmessage=async w=>{var N;const b=JSON.parse(w.data);if(b.type==="signal"&&b.data){if((N=b.from)!=null&&N.peerId&&(C.current=b.from.peerId,D(u)),await T(b.data),b.data.kind==="offer"&&b.data.sdp){const E=await g.createAnswer();await g.setLocalDescription(E);const _={type:"signal",from:{role:"answer",peerId:i},to:{role:"offer",peerId:b.from.peerId},data:{kind:"answer",sdp:E.sdp||""}};u.send(JSON.stringify(_)),k("connected"),D(u)}}else if(b.type==="offer"){await T({kind:"offer",sdp:b.payload.sdp});const E=await g.createAnswer();await g.setLocalDescription(E),u.send(JSON.stringify({type:"answer",payload:{sdp:E.sdp||""}})),k("connected")}else(b.type==="ice"||b.type==="ice-offer")&&await T({kind:"ice",candidate:b.payload.candidate})}},[i,s,y,h,x,T,o,r,D]),a=R.useCallback(u=>{const g=c.current;if(!g)return;const w=g.getSenders();u.getTracks().forEach(N=>{const E=w.find(_=>{var J;return((J=_.track)==null?void 0:J.kind)===N.kind});E?E.replaceTrack(N):g.addTrack(N,u)})},[]);return R.useEffect(()=>()=>x(),[x]),{status:j,connection:{start:M,close:x,replaceStream:a,dataChannel:S}}};function Q(n){const{apiKey:s,localPeerId:i,onOpen:y,onData:h}=n;if(typeof Peer>"u")throw new Error("SkyWay old SDK (Peer) is not loaded");if(!s)throw new Error("SkyWay API key is required");const r=new Peer(i||void 0,{key:s,debug:2});let o=null,l=null,t=null;const c={readyState:"connecting",onopen:null,onmessage:null,send:d=>{o&&o.open&&o.send(typeof d=="string"?d:JSON.stringify(d))},close:()=>{try{o&&o.close&&o.close(!0)}catch{}}};r.on("open",d=>{y&&y(d)}),r.on("connection",d=>{o=d,c.readyState=d.open?"open":"connecting",d.once("open",()=>{c.readyState="open",c.onopen&&c.onopen()}),d.on("data",p=>{c.onmessage&&c.onmessage({data:p}),h&&h(p)}),d.on("close",()=>{c.readyState="closed"})}),r.on("call",d=>{l=d;try{d.answer(t||null,{})}catch(p){console.error("OldSkyWay Answer: failed to answer media call",p)}});function C(d){t=d;try{if(l&&l.pc&&d){const p=l.pc,S=p!=null&&p.getSenders?p.getSenders():[];d.getTracks().forEach(I=>{const j=S==null?void 0:S.find(k=>{var x;return((x=k.track)==null?void 0:x.kind)===I.kind});j&&j.replaceTrack&&j.replaceTrack(I)})}}catch{}}function v(){try{l&&l.close&&l.close(!0)}catch{}try{o&&o.close&&o.close(!0)}catch{}try{r&&r.destroy&&r.destroy()}catch{}c.readyState="closed"}return{peerId:null,dataChannel:c,setLocalStream:C,close:v}}const P=n=>R.useSyncExternalStore(n.subscribe,n.get,n.get),Y="ws://localhost:8080",$="e316eaa7-4c1c-468c-b23a-9ce51b074ab7",X="ws://127.0.0.1:8081",Z={engine:"pure",answerPeerId:"tractor-01",signalingUrl:Y,useStunTurn:!0,skywayApiKey:$,skywayLocalId:"",skywayMyId:"(waiting)"},K={width:1920,height:1280,frameRate:30,bitrate:1e6,deviceId:"default"},q={disableTcc:!0,disableTwccExtmap:!0,disableRemb:!0,disableNackPliFir:!1,disableRtcpRsize:!1},ee={signaling:"Disconnected",stun:"Waiting...",turn:"Waiting...",control:"closed",autorun:"Disconnected"},te={},ne={channel:null,state:"closed"},U={lat:0,lon:0,gnssQuality:0,gnssSpeed:0,heading:0,headingError:0,lateralError:0,steerAngle:0,realSteerAngle:0,stopStatus:0},re=({topics:n,url:s})=>{const i=f.useRef(null),y=f.useCallback(()=>{const r=i.current;if(r&&(r.readyState===WebSocket.OPEN||r.readyState===WebSocket.CONNECTING))return r;try{const o=new WebSocket(s);return i.current=o,o.onopen=()=>{n.statuses.update(l=>({...l,autorun:"Connected"}));try{o.send(JSON.stringify({type:"remote-control"}))}catch{}},o.onerror=()=>n.statuses.update(l=>({...l,autorun:"Error"})),o.onclose=()=>n.statuses.update(l=>({...l,autorun:"Disconnected"})),o.onmessage=l=>{var t;try{const c=JSON.parse(l.data);if((c==null?void 0:c.type)==="autorun-output-data"){const C=((t=c.payload)==null?void 0:t.outputAutorunInfo)||c.payload||c,v={...U,...C};n.autorunTelemetry.set(v)}}catch(c){console.warn("Autorun message parse failed",c)}},o}catch(o){return n.statuses.update(l=>({...l,autorun:"Error"})),console.error("Failed to open autorun socket",o),null}},[n.autorunTelemetry,n.statuses,s]);return f.useEffect(()=>{const r=y();return()=>{try{r==null||r.close()}catch{}i.current=null}},[y]),{forwardControl:f.useCallback(r=>{const o=y();if(o&&o.readyState===WebSocket.OPEN)try{o.send(JSON.stringify({type:"inputAutorunInfo",payload:{inputInfo:r}}))}catch(l){console.warn("Send to autorun failed",l)}},[y])}},ae=({topics:n})=>{const s=f.useCallback(()=>{const r=n.stream.get();try{r==null||r.getTracks().forEach(o=>o.stop())}catch{}n.stream.set(null)},[n.stream]),i=f.useCallback(async()=>{var c,C,v;const r=n.videoProfile.get(),o={video:{width:z(r.width),height:z(r.height),frameRate:z(r.frameRate),deviceId:r.deviceId&&r.deviceId!=="default"?{exact:r.deviceId}:void 0},audio:!1},l=await navigator.mediaDevices.getUserMedia(o);s(),n.stream.set(l);const t=l.getVideoTracks()[0];if(t&&typeof t.getCapabilities=="function"){const d=t.getCapabilities();n.capabilities.set({widthMax:(c=d.width)==null?void 0:c.max,heightMax:(C=d.height)==null?void 0:C.max,frameRateMax:(v=d.frameRate)==null?void 0:v.max})}else n.capabilities.set({});return l},[s,n.stream,n.videoProfile,n.capabilities]),y=f.useCallback(async r=>{var t;const o=(t=n.stream.get())==null?void 0:t.getVideoTracks()[0];if(!o)return;const l={};Number.isFinite(r.width)&&(l.width={ideal:Number(r.width)}),Number.isFinite(r.height)&&(l.height={ideal:Number(r.height)}),Number.isFinite(r.frameRate)&&(l.frameRate={ideal:Number(r.frameRate)});try{await o.applyConstraints(l);try{o.contentHint="motion"}catch{}}catch(c){console.warn("applyConstraints failed",c)}},[n.stream]),h=f.useCallback(async()=>{try{const o=(await navigator.mediaDevices.enumerateDevices()).filter(l=>l.kind==="videoinput");n.devices.set(o)}catch(r){console.warn("enumerateDevices failed",r)}},[n.devices]);return f.useEffect(()=>{h();const r=()=>h();return navigator.mediaDevices.addEventListener("devicechange",r),()=>{navigator.mediaDevices.removeEventListener("devicechange",r)}},[h]),{capture:i,stop:s,applyOutboundConstraints:y,refreshDevices:h}},z=n=>typeof n=="number"&&Number.isFinite(n)?n:void 0,se=({topics:n,forwardControl:s,applyVideoQuality:i})=>{const y=f.useRef(U),h=f.useRef(null);f.useEffect(()=>n.autorunTelemetry.subscribe(t=>{y.current=t}),[n.autorunTelemetry]);const r=f.useCallback(t=>{n.statuses.update(c=>({...c,control:t})),n.controlChannel.update(c=>({...c,state:t}))},[n.controlChannel,n.statuses]),o=f.useCallback(async t=>{if((t==null?void 0:t.type)==="inputAutorunInfo"){s(t);return}if((t==null?void 0:t.type)==="videoQualityChange"){const c={width:A(t.width),height:A(t.height),frameRate:A(t.framerate),bitrate:A(t.bitrate)};n.videoProfile.update(C=>({...C,...c})),await i(c);return}(t==null?void 0:t.type)==="offerInferenceResults"&&console.log("Received inference results from monitor:",t.payload)},[i,s,n.videoProfile]),l=f.useCallback(t=>{var j;if((j=h.current)==null||j.call(h),!t){n.controlChannel.set({channel:null,state:"closed"}),r("closed");return}n.controlChannel.set({channel:t,state:t.readyState||"connecting"}),r(t.readyState??"connecting");const c=()=>r("open"),C=()=>{r("closed"),n.controlChannel.get().channel===t&&n.controlChannel.set({channel:null,state:"closed"})},v=k=>{const x=k==null?void 0:k.data;let T=x;try{T=typeof x=="string"?JSON.parse(x):x}catch{}o(T)};let d=null;if(d=window.setInterval(()=>{if(t.readyState!=="open")return;const k={...U,...y.current};try{t.send(JSON.stringify({type:"outputAutorunInfo",payload:k}))}catch(x){console.warn("Send telemetry failed",x)}},33),typeof t.addEventListener=="function"){t.addEventListener("open",c),t.addEventListener("close",C),t.addEventListener("message",v),h.current=()=>{d&&window.clearInterval(d),t.removeEventListener("open",c),t.removeEventListener("close",C),t.removeEventListener("message",v)};return}const p=t.onmessage,S=t.onopen,I=t.onclose;t.onmessage=k=>{v(k),typeof p=="function"&&p(k)},t.onopen=()=>{c(),typeof S=="function"&&S()},t.onclose=()=>{C(),typeof I=="function"&&I()},h.current=()=>{d&&window.clearInterval(d),t.onmessage=p,t.onopen=S,t.onclose=I}},[o,r,n.controlChannel]);return f.useEffect(()=>()=>{var t;return(t=h.current)==null?void 0:t.call(h)},[]),{attachControlChannel:l}},A=n=>typeof n=="number"&&Number.isFinite(n)?n:null,L=n=>{let s=n;const i=new Set,y=()=>{const t=s;i.forEach(c=>c(t))};return{get:()=>s,set:t=>{s=t,y()},update:t=>{s=t(s),y()},subscribe:t=>(i.add(t),()=>{i.delete(t)})}},ie=()=>({config:L(Z),videoProfile:L(K),feedback:L(q),statuses:L(ee),capabilities:L(te),devices:L([]),stream:L(null),autorunTelemetry:L(U),controlChannel:L(ne)}),O=({title:n,children:s})=>e.jsxs("fieldset",{style:{marginTop:8,padding:8,width:"max-content"},children:[e.jsx("legend",{children:n}),s]}),oe=()=>{const n=f.useRef();n.current||(n.current=ie());const s=n.current,i=P(s.config),y=P(s.videoProfile),h=P(s.feedback),r=P(s.statuses),o=P(s.devices),l=P(s.capabilities),t=P(s.stream),c=P(s.autorunTelemetry),C=P(s.controlChannel),v=f.useRef(null),d=f.useRef(null),p=f.useCallback((a,m)=>{s.config.update(u=>({...u,[a]:m}))},[s.config]),S=f.useCallback(a=>{s.videoProfile.update(m=>({...m,...a}))},[s.videoProfile]),I=f.useCallback((a,m)=>{s.feedback.update(u=>({...u,[a]:m}))},[s.feedback]),j=ae({topics:s}),{forwardControl:k}=re({topics:s,url:X}),{attachControlChannel:x}=se({topics:s,forwardControl:k,applyVideoQuality:async a=>{const m=ce(a);s.videoProfile.update(u=>({...u,...m})),await j.applyOutboundConstraints(m)}}),{connection:T}=H({signalingUrl:i.signalingUrl,answerPeerId:i.answerPeerId||"tractor-1",useIceServers:i.useStunTurn,mediaStream:t,onSignalingState:a=>s.statuses.update(m=>({...m,signaling:a})),onIceState:a=>s.statuses.update(m=>({...m,stun:a})),onDataChannel:x}),D=f.useCallback(async()=>{i.engine==="pure"&&(s.stream.get()||await j.capture().catch(a=>console.warn("Capture before connect failed",a)),T.start().catch(a=>{console.error(a),s.statuses.update(m=>({...m,signaling:"Error"}))}))},[j,i.engine,T,s.statuses,s.stream]);f.useEffect(()=>{i.engine!=="pure"&&T.close()},[i.engine,T]),f.useEffect(()=>{t&&i.engine==="pure"&&T.replaceStream(t)},[i.engine,T,t]),f.useEffect(()=>{v.current&&t&&(v.current.srcObject=t)},[t]),f.useEffect(()=>{s.stream.get()&&j.capture()},[j,s.stream,y.deviceId]),f.useEffect(()=>{o.length>0&&(!y.deviceId||y.deviceId==="default")&&S({deviceId:o[0].deviceId})},[o,S,y.deviceId]),f.useEffect(()=>{var a;if(i.engine!=="oldskyway"){(a=d.current)==null||a.close(),d.current=null;return}try{const m=Q({apiKey:i.skywayApiKey,localPeerId:i.skywayLocalId||void 0,onOpen:u=>p("skywayMyId",u)});d.current=m,x(m.dataChannel),t&&m.setLocalStream(t)}catch(m){console.error("OldSkyWay answer init failed",m)}return()=>{var m;(m=d.current)==null||m.close(),d.current=null}},[x,i.engine,i.skywayApiKey,i.skywayLocalId,p,t]),f.useEffect(()=>{if(i.engine!=="oldskyway")return;const a=d.current;a&&t&&a.setLocalStream(t)},[i.engine,t]),f.useEffect(()=>{i.engine==="newskyway"&&x(null)},[x,i.engine]);const M=i.engine;return e.jsxs("div",{style:{padding:16,fontFamily:"sans-serif"},children:[e.jsx("h1",{children:"Vehicle (Answer) UI"}),e.jsx("p",{children:"Choose engine, capture camera, then connect. Signaling defaults to ws://localhost:8080."}),e.jsxs(O,{title:"WebRTC Engine",children:[e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"engine",value:"pure",checked:i.engine==="pure",onChange:()=>p("engine","pure")}),"Pure WebRTC"]}),e.jsxs("label",{style:{marginLeft:12},children:[e.jsx("input",{type:"radio",name:"engine",value:"oldskyway",checked:i.engine==="oldskyway",onChange:()=>p("engine","oldskyway")}),"Old SkyWay"]}),e.jsxs("label",{style:{marginLeft:12},children:[e.jsx("input",{type:"radio",name:"engine",value:"newskyway",checked:i.engine==="newskyway",onChange:()=>p("engine","newskyway")}),"New SkyWay (stub)"]})]}),e.jsxs(O,{title:"Camera",children:[e.jsxs("div",{style:{marginTop:4},children:["Select Device:",e.jsxs("select",{value:y.deviceId,onChange:a=>S({deviceId:a.target.value}),style:{marginLeft:8},children:[e.jsx("option",{value:"default",children:"Default Camera"}),o.map(a=>e.jsx("option",{value:a.deviceId,children:a.label||a.deviceId},a.deviceId))]}),e.jsx("button",{style:{marginLeft:8},onClick:()=>void j.capture(),children:"Get Capture"})]}),e.jsx("div",{style:{marginTop:8},children:e.jsx("video",{ref:v,autoPlay:!0,playsInline:!0,muted:!0,style:{width:220,height:140,background:"#000",borderRadius:6}})}),e.jsxs("div",{style:{marginTop:6,fontSize:12,color:"#333"},children:["Max Resolution / FPS:Â ",l.widthMax&&l.heightMax?`${l.widthMax}x${l.heightMax}`:"N/A"," | ",l.frameRateMax??"N/A"," fps"]})]}),i.engine==="pure"&&e.jsxs(e.Fragment,{children:[e.jsxs(O,{title:"Pure WebRTC Connection",children:[e.jsxs("div",{style:{marginTop:6},children:["Vehicle Peer ID:",e.jsx("input",{type:"text",value:i.answerPeerId,onChange:a=>p("answerPeerId",a.target.value),style:{width:180,marginLeft:6},placeholder:"tractor-01"})]}),e.jsxs("div",{style:{marginTop:6},children:["Signaling WS URL:",e.jsx("input",{type:"text",value:i.signalingUrl,onChange:a=>p("signalingUrl",a.target.value),style:{width:220,marginLeft:6}}),e.jsx("button",{style:{marginLeft:6},onClick:()=>void D(),children:"Connect"}),e.jsx("button",{style:{marginLeft:6},onClick:()=>void j.capture(),children:"Get Capture"})]})]}),e.jsx("h3",{children:"Network Status"}),e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsx("tr",{children:e.jsxs("th",{children:["Signaling: ",e.jsx("span",{children:r.signaling})]})}),e.jsx("tr",{children:e.jsxs("th",{children:["STUN: ",e.jsx("span",{children:r.stun})]})}),e.jsx("tr",{children:e.jsxs("th",{children:["TURN: ",e.jsx("span",{children:r.turn})]})})]})}),e.jsxs("div",{style:{marginTop:4,fontSize:12,color:"#333"},children:["DataChannel: ",C.state," / Autorun WS: ",r.autorun]}),e.jsxs("div",{style:{marginTop:2,fontSize:12,color:"#333"},children:["Telemetry: ",c.gnssSpeed??0," km/h / HeadingErr"," ",c.headingError??0]}),e.jsxs("div",{style:{margin:"4px 0 10px 0"},children:[e.jsx("input",{type:"checkbox",id:"use-stun-turn",checked:i.useStunTurn,onChange:a=>p("useStunTurn",a.target.checked)}),e.jsx("label",{htmlFor:"use-stun-turn",children:"Use STUN/TURN (unchecked = host only)"})]}),e.jsxs(O,{title:"Feedback Options",children:[e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"disable-tcc",checked:h.disableTcc,onChange:a=>I("disableTcc",a.target.checked)}),e.jsx("label",{htmlFor:"disable-tcc",children:"Disable transport-cc feedback"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"disable-twcc-extmap",checked:h.disableTwccExtmap,onChange:a=>I("disableTwccExtmap",a.target.checked)}),e.jsx("label",{htmlFor:"disable-twcc-extmap",children:"Disable TWCC extmap"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"disable-remb",checked:h.disableRemb,onChange:a=>I("disableRemb",a.target.checked)}),e.jsx("label",{htmlFor:"disable-remb",children:"Disable REMB feedback"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"disable-nack-pli-fir",checked:h.disableNackPliFir,onChange:a=>I("disableNackPliFir",a.target.checked)}),e.jsx("label",{htmlFor:"disable-nack-pli-fir",children:"Disable NACK / PLI / FIR"})]}),e.jsxs("div",{children:[e.jsx("input",{type:"checkbox",id:"disable-rtcp-rsize",checked:h.disableRtcpRsize,onChange:a=>I("disableRtcpRsize",a.target.checked)}),e.jsx("label",{htmlFor:"disable-rtcp-rsize",children:"Disable reduced-size RTCP"})]})]}),e.jsxs(O,{title:"Video Quality",children:[e.jsxs("div",{style:{marginTop:4},children:["Height:",e.jsx("input",{type:"number",value:y.height??"",onChange:a=>S({height:W(a.target.value)}),style:{width:100,marginLeft:6}})]}),e.jsxs("div",{style:{marginTop:4},children:["Width:",e.jsx("input",{type:"number",value:y.width??"",onChange:a=>S({width:W(a.target.value)}),style:{width:100,marginLeft:6}})]}),e.jsxs("div",{style:{marginTop:4},children:["FrameRate:",e.jsx("input",{type:"number",value:y.frameRate??"",onChange:a=>S({frameRate:W(a.target.value)}),style:{width:100,marginLeft:6}})," ","Hz"]}),e.jsxs("div",{style:{marginTop:4},children:["Bitrate:",e.jsx("input",{type:"number",value:y.bitrate??"",onChange:a=>S({bitrate:W(a.target.value)}),style:{width:140,marginLeft:6}})," ","bps"]}),e.jsx("button",{style:{marginTop:6},onClick:()=>void j.applyOutboundConstraints(y),children:"Set Video Quality"}),e.jsx("button",{style:{marginTop:6,marginLeft:8},onClick:()=>S(K),children:"Reset"})]})]}),i.engine==="oldskyway"&&e.jsxs(O,{title:"Old SkyWay",children:[e.jsxs("div",{style:{marginTop:6},children:["SkyWay API Key:",e.jsx("input",{type:"text",value:i.skywayApiKey,onChange:a=>p("skywayApiKey",a.target.value),style:{width:280,marginLeft:6},placeholder:"Enter SkyWay API Key"})]}),e.jsxs("div",{style:{marginTop:6},children:["Local Peer ID (optional):",e.jsx("input",{type:"text",value:i.skywayLocalId,onChange:a=>p("skywayLocalId",a.target.value),style:{width:220,marginLeft:6},placeholder:"auto or specify fixed id"}),e.jsxs("span",{style:{marginLeft:8},children:["My ID: ",e.jsx("span",{children:i.skywayMyId})]})]}),e.jsx("small",{children:"SkyWay old SDK must be loaded separately in the page."})]}),i.engine==="newskyway"&&e.jsx(O,{title:"New SkyWay",children:e.jsx("p",{children:"Stub. Wire a driver that matches the createX + deps pattern."})}),e.jsxs("div",{style:{marginTop:12,color:"#444"},children:[e.jsx("strong",{children:"Current engine"})," ",M]})]})},W=n=>{const s=Number(n);return Number.isFinite(s)?s:null},ce=n=>{const s={width:F(n.width),height:F(n.height),frameRate:F(n.frameRate),bitrate:F(n.bitrate)};return typeof n.deviceId=="string"&&(s.deviceId=n.deviceId),s},F=n=>typeof n=="number"&&Number.isFinite(n)?n:null,V=document.getElementById("root");if(!V)throw new Error("Root element #root not found");B(V).render(e.jsx(f.StrictMode,{children:e.jsx(oe,{})}));
